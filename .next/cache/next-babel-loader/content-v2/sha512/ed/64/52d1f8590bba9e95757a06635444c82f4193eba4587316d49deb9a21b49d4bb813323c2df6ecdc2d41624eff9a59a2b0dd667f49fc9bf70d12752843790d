{"ast":null,"code":"const {\n  Octokit\n} = require(\"@octokit/rest\");\n\nconst {\n  Base64\n} = require(\"js-base64\");\n\nconst fs = require(\"fs\");\n\nrequire(\"dotenv\").config();\n\nconst octokit = new Octokit({\n  auth: process.env.GITHUB_ACCESS_TOKEN\n}); //to upload file by providing just hash as we are naming the file with hash\n\nexport default (async (req, res) => {\n  try {\n    //set as header and send whatever the hash u r sending\n    const query = req.body;\n    console.log({\n      query\n    });\n    const content = fs.readFileSync(\"/home/sanjana/file\", \"utf-8\");\n    const contentEncoded = Base64.encode(content);\n    const hash = String(\"file19.txt\");\n    const {\n      data\n    } = await octokit.repos.createOrUpdateFileContents({\n      // replace the owner and email with your own details\n      owner: \"manjularachana\",\n      repo: \"githubApiUsageToUploadDownload\",\n      path: hash,\n      message: \"feat: Added OUTPUT.md programatically\",\n      content: contentEncoded\n    });\n    console.log({\n      data\n    });\n    res.status(200).json({\n      data\n    });\n  } catch (err) {\n    console.error(err);\n  }\n}); //import Link from 'next/link'\n//export default ({ url: { query: { name } } }) => (\n//  <p>Welcome to About! { name }</p>\n//)","map":{"version":3,"sources":["/home/sanjana/Documents/BMS/FinalYearProjectTest/Malware-Detection-New/pages/api/uploadFile.tsx"],"names":["Octokit","require","Base64","fs","config","octokit","auth","process","env","GITHUB_ACCESS_TOKEN","req","res","query","body","console","log","content","readFileSync","contentEncoded","encode","hash","String","data","repos","createOrUpdateFileContents","owner","repo","path","message","status","json","err","error"],"mappings":"AACA,MAAM;AAAEA,EAAAA;AAAF,IAAcC,OAAO,CAAC,eAAD,CAA3B;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAaD,OAAO,CAAC,WAAD,CAA1B;;AACA,MAAME,EAAE,GAAGF,OAAO,CAAC,IAAD,CAAlB;;AAGAA,OAAO,CAAC,QAAD,CAAP,CAAkBG,MAAlB;;AAEA,MAAMC,OAAO,GAAG,IAAIL,OAAJ,CAAY;AAC1BM,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC;AADQ,CAAZ,CAAhB,C,CAIA;;AACA,gBAAe,OAAOC,GAAP,EAA2BC,GAA3B,KAAkD;AAC7D,MAAI;AACA;AACA,UAAMC,KAAK,GAAIF,GAAG,CAACG,IAAnB;AAEAC,IAAAA,OAAO,CAACC,GAAR,CAAY;AAACH,MAAAA;AAAD,KAAZ;AAIA,UAAMI,OAAO,GAAGb,EAAE,CAACc,YAAH,CAAgB,oBAAhB,EAAsC,OAAtC,CAAhB;AACA,UAAMC,cAAc,GAAGhB,MAAM,CAACiB,MAAP,CAAcH,OAAd,CAAvB;AACA,UAAMI,IAAI,GAACC,MAAM,CAAC,YAAD,CAAjB;AAEA,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMjB,OAAO,CAACkB,KAAR,CAAcC,0BAAd,CAAyC;AAC9D;AACAC,MAAAA,KAAK,EAAE,gBAFuD;AAG9DC,MAAAA,IAAI,EAAE,gCAHwD;AAI9DC,MAAAA,IAAI,EAAEP,IAJwD;AAK9DQ,MAAAA,OAAO,EAAE,uCALqD;AAM9DZ,MAAAA,OAAO,EAAEE;AANqD,KAAzC,CAAvB;AAQJJ,IAAAA,OAAO,CAACC,GAAR,CAAY;AAACO,MAAAA;AAAD,KAAZ;AACAX,IAAAA,GAAG,CAACkB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACR,MAAAA;AAAD,KAArB;AACG,GAtBH,CAsBI,OAAOS,GAAP,EAAY;AACZjB,IAAAA,OAAO,CAACkB,KAAR,CAAcD,GAAd;AACD;AACN,CA1BD,E,CA2BA;AACA;AACE;AACA","sourcesContent":["import type { NextApiRequest, NextApiResponse } from 'next'\nconst { Octokit } = require(\"@octokit/rest\")\nconst { Base64 } = require(\"js-base64\")\nconst fs = require(\"fs\")\n\n\nrequire(\"dotenv\").config()\n\nconst octokit = new Octokit({\n  auth: process.env.GITHUB_ACCESS_TOKEN,\n})\n\n//to upload file by providing just hash as we are naming the file with hash\nexport default async (req:NextApiRequest, res:NextApiResponse)=> {\n    try {\n        //set as header and send whatever the hash u r sending\n        const query  = req.body ;\n\n        console.log({query});\n\n\n\n        const content = fs.readFileSync(\"/home/sanjana/file\", \"utf-8\")\n        const contentEncoded = Base64.encode(content)\n        const hash=String(\"file19.txt\")\n\n        const { data } = await octokit.repos.createOrUpdateFileContents({\n          // replace the owner and email with your own details\n          owner: \"manjularachana\",\n          repo: \"githubApiUsageToUploadDownload\",\n          path: hash,\n          message: \"feat: Added OUTPUT.md programatically\",\n          content: contentEncoded,\n        })\n    console.log({data})\n    res.status(200).json({data})\n      } catch (err) {\n        console.error(err)\n      }\n}\n//import Link from 'next/link'\n//export default ({ url: { query: { name } } }) => (\n  //  <p>Welcome to About! { name }</p>\n  //)\n"]},"metadata":{},"sourceType":"module"}